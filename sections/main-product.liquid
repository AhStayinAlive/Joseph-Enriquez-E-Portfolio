{% comment %}
  Scrolling Product Gallery Layout - Images change on scroll
  Using Broen Brand Kit Colors and Typography
{% endcomment %}

<section
  id="MainProduct-{{ section.id }}"
  class="main-product section-{{ section.id }}-padding"
  data-section="{{ section.id }}"
>
  <!-- Load required stylesheets -->
  {{ 'component-price.css' | asset_url | stylesheet_tag }}
  {{ 'component-deferred-media.css' | asset_url | stylesheet_tag }}
  {% unless product.has_only_default_variant %}
    {{ 'component-product-variant-picker.css' | asset_url | stylesheet_tag }}
  {% endunless %}

  <!-- Scrolling Gallery Styling -->
  <style>
    :root {
      /* Broen Brand Kit Colors */
      --brand-black: #000000;
      --brand-white: #ffffff;
      --brand-gray: #3d3d3d;
      --brand-brown: #614524;
      
      /* Typography - Broen Brand Kit */
      --font-heading: "Ridley Grotesk", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      --font-body: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    }

    /* Global Styles */
    body {
      background: var(--brand-black) !important;
      color: var(--brand-white);
      font-family: var(--font-body);
      margin: 0;
      padding: 0;
    }

    .main-product {
      background: var(--brand-black);
      min-height: 100vh;
      padding: 0;
    }

    /* Scrolling Product Layout */
    .scrolling-product-layout {
      display: grid;
      grid-template-columns: 1fr;
      max-width: 1400px;
      margin: 0 auto;
      position: relative;
    }

    @media (min-width: 768px) {
      .scrolling-product-layout {
        grid-template-columns: 1fr 1fr;
      }
    }

    /* Left Column - Gallery with Arrows */
    .product-gallery {
      background: var(--brand-white);
      position: relative;
      padding: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 80vh;
    }

    @media (min-width: 768px) {
      .product-gallery {
        position: sticky;
        top: 0;
        height: 100vh;
        padding: 60px;
      }
    }

    .gallery-container {
      width: 100%;
      max-width: 500px;
      position: relative;
      aspect-ratio: 1;
      border-radius: 12px;
      overflow: hidden;
    }

    .gallery-item {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
      transition: opacity 0.6s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .gallery-item.active {
      opacity: 1;
    }

    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .gallery-item video {
      width: 100%;
      height: 100%;
      object-fit: cover; /* Back to cover for better fill */
    }

    /* Special styling for video items */
    .gallery-item.video-item {
      background: var(--brand-white); /* Match other gallery items */
      padding: 0; /* Remove padding */
    }

    .gallery-item.video-item video {
      border-radius: 0; /* Remove border radius */
      box-shadow: none; /* Remove shadow */
      background: transparent;
    }

    /* Video overlay badge */
    .gallery-item.video-item::before {
      content: 'VIDEO';
      position: absolute;
      top: 16px;
      left: 16px;
      background: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      letter-spacing: 0.5px;
      z-index: 5;
      text-transform: uppercase;
    }

    .image-placeholder {
      width: 100%;
      height: 100%;
      background: var(--brand-gray);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--brand-white);
      font-size: 18px;
      font-weight: 600;
    }

    /* Gallery Navigation Arrows */
    .gallery-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0, 0, 0, 0.7);
      color: white;
      border: none;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
    }

    .gallery-nav:hover {
      background: var(--brand-brown);
      transform: translateY(-50%) scale(1.1);
    }

    .gallery-nav.prev {
      left: 20px;
    }

    .gallery-nav.next {
      right: 20px;
    }

    .gallery-nav svg {
      width: 20px;
      height: 20px;
    }

    /* Scroll Progress Indicator */
    .scroll-indicator {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 8px;
      z-index: 10;
    }

    .indicator-dot {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .indicator-dot:hover {
      background: rgba(97, 69, 36, 0.7);
      transform: scale(1.2);
    }

    .indicator-dot.active {
      background: var(--brand-brown);
      transform: scale(1.2);
    }

    /* Video indicator dot styling */
    .indicator-dot.video-dot {
      background: rgba(255, 255, 255, 0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      width: 16px;
      height: 16px;
    }

    .indicator-dot.video-dot svg {
      width: 8px;
      height: 8px;
      color: var(--brand-black);
    }

    .indicator-dot.video-dot.active {
      background: var(--brand-brown);
    }

    .indicator-dot.video-dot.active svg {
      color: var(--brand-white);
    }

    /* Right Column - Sticky Product Details */
    .product-details {
      background: var(--brand-black);
      padding: 40px;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      min-height: 100vh;
    }

    @media (min-width: 768px) {
      .product-details {
        position: sticky;
        top: 0;
        height: 100vh;
        padding: 60px 60px 60px 40px;
        justify-content: center;
        overflow-y: auto;
      }
    }

    /* Product Header */
    .product-header {
      margin-bottom: 40px;
    }

    .product-title {
      font-family: var(--font-heading);
      font-size: clamp(1.8rem, 4vw, 2.5rem);
      font-weight: 600;
      color: var(--brand-white);
      margin: 0 0 16px 0;
      line-height: 1.2;
      letter-spacing: -0.02em;
      display: block !important;
      visibility: visible !important;
    }

    .product-price {
      font-family: var(--font-heading);
      font-size: clamp(1.5rem, 3vw, 2rem);
      font-weight: 700;
      color: var(--brand-white);
      margin: 0;
    }

    /* Options Section */
    .product-options {
      margin-bottom: 40px;
    }

    .option-group {
      margin-bottom: 32px;
    }

    .option-label {
      font-family: var(--font-body);
      font-size: 16px;
      font-weight: 600;
      color: var(--brand-white);
      margin-bottom: 16px;
      display: block;
      text-transform: uppercase;
      letter-spacing: 0.05em;
    }

    /* Circular Color/Type Options */
    .color-options {
      display: flex;
      gap: 16px;
      align-items: center;
      flex-wrap: wrap;
    }

    .color-swatch {
      width: 40px;
      height: 40px;
      border-radius: 50%; /* Made circular */
      cursor: pointer;
      border: 3px solid transparent;
      transition: all 0.3s ease;
      position: relative;
    }

    .color-swatch:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 12px rgba(255, 255, 255, 0.2);
    }

    .color-swatch.selected {
      border-color: var(--brand-brown);
      box-shadow: 0 0 0 2px var(--brand-black), 0 0 0 5px var(--brand-brown);
    }

    .color-swatch.selected::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 8px;
      height: 8px;
      background: var(--brand-brown);
      border-radius: 50%;
    }

    /* Type Options - Also Circular */
    .type-options {
      display: flex;
      gap: 16px;
      flex-wrap: wrap;
    }

    .type-swatch {
      width: 50px;
      height: 50px;
      border-radius: 50%; /* Made circular */
      background: var(--brand-gray);
      border: 3px solid transparent;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      font-weight: 700;
      color: var(--brand-white);
      text-transform: uppercase;
    }

    .type-swatch:hover {
      transform: scale(1.05);
      background: #5a5a5a;
    }

    .type-swatch.selected {
      background: var(--brand-brown);
      border-color: var(--brand-brown);
      box-shadow: 0 0 0 2px var(--brand-black), 0 0 0 5px var(--brand-brown);
    }

    /* Add to Cart Button */
    .add-to-cart-btn {
      background: var(--brand-brown);
      color: var(--brand-white);
      border: none;
      padding: 18px 32px;
      font-size: 16px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-bottom: 32px;
      font-family: var(--font-body);
      width: 100%;
      border-radius: 8px;
    }

    .add-to-cart-btn:hover {
      background: #7a5529;
      transform: translateY(-2px);
    }

    /* Product Description */
    .product-description {
      margin-bottom: 32px;
    }

    .product-description p {
      font-size: 16px;
      line-height: 1.6;
      color: rgba(255, 255, 255, 0.9);
      margin: 0 0 16px 0;
    }

    .product-description p:last-child {
      margin-bottom: 0;
    }

    /* Product Info */
    .product-info-section {
      border-top: 1px solid var(--brand-gray);
      padding-top: 24px;
    }

    .info-item {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
      font-size: 14px;
      color: rgba(255, 255, 255, 0.8);
    }

    .info-icon {
      width: 16px;
      height: 16px;
      color: var(--brand-brown);
    }

    /* Secondary Actions */
    .secondary-actions {
      margin-top: 24px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .btn-secondary {
      background: transparent;
      color: var(--brand-white);
      border: 2px solid var(--brand-white);
      padding: 14px 32px;
      font-size: 14px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: var(--font-body);
      border-radius: 8px;
    }

    .btn-secondary:hover {
      background: var(--brand-white);
      color: var(--brand-black);
    }

    /* Sticky Specialist Button */
    .specialist-btn {
      position: fixed;
      bottom: 24px;
      right: 24px;
      background: var(--brand-brown);
      color: var(--brand-white);
      border: none;
      padding: 16px 24px;
      border-radius: 50px;
      font-weight: 600;
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      cursor: pointer;
      transition: all 0.3s ease;
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    }

    .specialist-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 25px rgba(0, 0, 0, 0.4);
    }

    /* Mobile Responsive */
    @media (max-width: 768px) {
      .scrolling-product-layout {
        grid-template-columns: 1fr;
      }

      .product-gallery {
        position: relative;
        height: 60vh;
        padding: 32px 24px;
        min-height: 60vh;
      }

      .product-details {
        position: relative;
        padding: 32px 24px;
        min-height: auto;
      }

      .specialist-btn {
        bottom: 16px;
        right: 16px;
        padding: 12px 20px;
        font-size: 12px;
      }

      /* Hide arrows on mobile, use auto-advance instead */
      .gallery-nav {
        display: none;
      }
    }

    /* Focus States for Accessibility */
    .color-swatch:focus,
    .type-swatch:focus,
    .add-to-cart-btn:focus,
    .btn-secondary:focus,
    .specialist-btn:focus,
    .gallery-nav:focus,
    .indicator-dot:focus {
      outline: 2px solid var(--brand-brown);
      outline-offset: 2px;
    }

    /* Additional Sections Styling */
    .content-section {
      background: var(--brand-black);
      padding: 80px 0;
    }

    .section-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 40px;
    }

    @media (max-width: 768px) {
      .content-section {
        padding: 60px 0;
      }
      
      .section-container {
        padding: 0 24px;
      }
    }

    .section-title {
      font-family: var(--font-heading);
      font-size: clamp(2rem, 4vw, 3rem);
      font-weight: 600;
      color: var(--brand-white);
      text-align: center;
      margin: 0 0 16px 0;
      letter-spacing: -0.02em;
    }

    .section-subtitle {
      font-size: 18px;
      color: rgba(255, 255, 255, 0.8);
      text-align: center;
      max-width: 600px;
      margin: 0 auto 60px auto;
      line-height: 1.6;
    }

    /* About Section - Content Showcase */
    .content-showcase {
      width: 100%;
      max-width: 800px;
      aspect-ratio: 16 / 9;
      background: var(--brand-gray);
      border-radius: 16px;
      margin: 0 auto 60px auto;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--brand-white);
      font-size: 24px;
      font-weight: 600;
    }

    .showcase-placeholder {
      opacity: 0.7;
    }

    /* Features Grid */
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 24px;
      margin-top: 60px;
    }

    .feature-card {
      background: rgba(61, 61, 61, 0.3);
      border-radius: 16px;
      padding: 32px 24px;
      text-align: left;
      transition: all 0.3s ease;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .feature-card:hover {
      background: rgba(61, 61, 61, 0.5);
      transform: translateY(-4px);
    }

    .feature-title {
      font-family: var(--font-heading);
      font-size: 18px;
      font-weight: 600;
      color: var(--brand-white);
      margin: 0 0 12px 0;
    }

    .feature-text {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.8);
      line-height: 1.5;
      margin: 0;
    }

    /* How It Works Section */
    .video-container {
      width: 100%;
      max-width: 800px;
      aspect-ratio: 16 / 9;
      background: var(--brand-gray);
      border-radius: 16px;
      margin: 0 auto 32px auto;
      overflow: hidden;
    }

    .video-container video {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .download-section {
      text-align: center;
    }

    .download-btn {
      background: transparent;
      color: var(--brand-white);
      border: 2px solid var(--brand-white);
      padding: 16px 32px;
      border-radius: 50px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      gap: 12px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      font-family: var(--font-body);
    }

    .download-btn:hover {
      background: var(--brand-white);
      color: var(--brand-black);
      transform: translateY(-2px);
    }

    /* After Sales Service Section */
    .service-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 32px;
      margin-top: 60px;
    }

    .service-card {
      background: rgba(61, 61, 61, 0.3);
      border-radius: 16px;
      padding: 40px 32px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .service-card:hover {
      background: rgba(61, 61, 61, 0.5);
      transform: translateY(-6px);
    }

    .service-icon {
      width: 60px;
      height: 60px;
      background: var(--brand-brown);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 24px auto;
    }

    .service-icon svg {
      width: 24px;
      height: 24px;
      color: var(--brand-white);
    }

    .service-title {
      font-family: var(--font-heading);
      font-size: 20px;
      font-weight: 600;
      color: var(--brand-white);
      margin: 0 0 16px 0;
    }

    .service-text {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.8);
      line-height: 1.6;
      margin: 0;
    }

    /* Keep Exploring Broen Section */
    .products-grid {
      display: flex;
      gap: 24px;
      overflow-x: auto;
      padding: 20px 0 40px 0;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
    }

    .products-grid::-webkit-scrollbar {
      height: 8px;
    }

    .products-grid::-webkit-scrollbar-track {
      background: transparent;
    }

    .products-grid::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.3);
      border-radius: 4px;
    }

    .product-card {
      flex: 0 0 280px;
      background: transparent;
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 12px;
      padding: 20px;
      scroll-snap-align: start;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .product-card:hover {
      border-color: var(--brand-brown);
      transform: translateY(-4px);
    }

    .product-image {
      width: 100%;
      aspect-ratio: 1;
      background: var(--brand-gray);
      border-radius: 8px;
      margin-bottom: 16px;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .product-image img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      transition: transform 0.3s ease;
    }

    .product-card:hover .product-image img {
      transform: scale(1.05);
    }

    .product-info {
      text-align: left;
    }

    .product-name {
      font-family: var(--font-heading);
      font-size: 18px;
      font-weight: 600;
      color: var(--brand-white);
      margin: 0 0 8px 0;
      line-height: 1.3;
    }

    .product-rating {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 12px;
    }

    .stars {
      display: flex;
      gap: 2px;
    }

    .star {
      color: #ffd700;
      font-size: 16px;
      line-height: 1;
    }

    .star.filled {
      color: #ffd700;
    }

    .star.half {
      color: #ffd700;
      opacity: 0.5;
    }

    .review-count {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.7);
      font-weight: 500;
    }

    .product-price {
      font-family: var(--font-heading);
      font-size: 20px;
      font-weight: 700;
      color: var(--brand-white);
      margin: 0;
    }

    .pagination-info {
      text-align: center;
      margin-bottom: 32px;
    }

    .page-indicator {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.6);
      font-weight: 500;
    }

    .view-all-section {
      text-align: center;
    }

    .view-all-btn {
      background: var(--brand-white);
      color: var(--brand-black);
      padding: 16px 48px;
      border-radius: 50px;
      font-size: 16px;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s ease;
      display: inline-block;
      text-transform: capitalize;
    }

    .view-all-btn:hover {
      background: var(--brand-gray-light);
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(255, 255, 255, 0.1);
    }

    /* Mobile Responsive for Products Grid */
    @media (max-width: 768px) {
      .products-grid {
        gap: 16px;
        padding: 20px 0 32px 0;
      }
      
      .product-card {
        flex: 0 0 240px;
        padding: 16px;
      }
      
      .product-name {
        font-size: 16px;
      }
      
      .product-price {
        font-size: 18px;
      }
    }
  </style>

  <div class="scrolling-product-layout">
    <!-- Left Column - Gallery with Arrow Navigation -->
    <div class="product-gallery">
      <div class="gallery-container">
        <!-- Gallery Items -->
        <div class="gallery-item active" data-index="0">
          {% if product.featured_media %}
            <img src="{{ product.featured_media | image_url: width: 800 }}" alt="{{ product.featured_media.alt | escape }}">
          {% else %}
            <div class="image-placeholder">Product Image 1</div>
          {% endif %}
        </div>

        <div class="gallery-item" data-index="1">
          {% if product.media[1] %}
            <img src="{{ product.media[1] | image_url: width: 800 }}" alt="{{ product.media[1].alt | escape }}">
          {% else %}
            <div class="image-placeholder">Product Image 2</div>
          {% endif %}
        </div>

        <div class="gallery-item" data-index="2">
          {% if product.media[2] %}
            <img src="{{ product.media[2] | image_url: width: 800 }}" alt="{{ product.media[2].alt | escape }}">
          {% else %}
            <div class="image-placeholder">Product Image 3</div>
          {% endif %}
        </div>

        <!-- Video Gallery Item -->
        <div class="gallery-item video-item" data-index="3">
          <video autoplay muted loop>
            <source src="https://cdn.shopify.com/videos/c/o/v/bd60ec980791498b95845113ce2ce833.mp4" type="video/mp4">
            <div class="image-placeholder">Product Video</div>
          </video>
        </div>

        <div class="gallery-item" data-index="4">
          {% if product.media[3] %}
            <img src="{{ product.media[3] | image_url: width: 800 }}" alt="{{ product.media[3].alt | escape }}">
          {% else %}
            <div class="image-placeholder">Product Image 4</div>
          {% endif %}
        </div>

        <!-- Navigation Arrows -->
        <button class="gallery-nav prev" onclick="changeGalleryImage(-1)">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M15.41,7.41L14,6L8,12L14,18L15.41,16.59L10.83,12L15.41,7.41Z" />
          </svg>
        </button>
        
        <button class="gallery-nav next" onclick="changeGalleryImage(1)">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M10,6L8.59,7.41L13.17,12L8.59,16.59L10,18L16,12L10,6Z" />
          </svg>
        </button>
      </div>

      <!-- Scroll Progress Indicator -->
      <div class="scroll-indicator">
        <div class="indicator-dot active" onclick="goToGalleryImage(0)"></div>
        <div class="indicator-dot" onclick="goToGalleryImage(1)"></div>
        <div class="indicator-dot" onclick="goToGalleryImage(2)"></div>
        <div class="indicator-dot video-dot" onclick="goToGalleryImage(3)" title="Product Video">
          <svg width="8" height="8" viewBox="0 0 24 24" fill="currentColor">
            <path d="M8,5.14V19.14L19,12.14L8,5.14Z" />
          </svg>
        </div>
        <div class="indicator-dot" onclick="goToGalleryImage(4)"></div>
      </div>
    </div>

    <!-- Right Column - Sticky Product Details -->
    <div class="product-details">
      <!-- Product Header -->
      <div class="product-header">
        <h1 class="product-title">{{ product.title | escape }}</h1>
        <div class="product-price">
          {% if product.price_varies %}
            From {{ product.price_min | money }}
          {% else %}
            {{ product.price | money }}
          {% endif %}
        </div>
      </div>

      <!-- Product Options -->
      <div class="product-options">
        <!-- Color Selection - Circular -->
        <div class="option-group">
          <label class="option-label">Color:</label>
          <div class="color-options">
            <div class="color-swatch selected" style="background: #000000;" data-color="black" title="Black"></div>
            <div class="color-swatch" style="background: #C0C0C0;" data-color="silver" title="Silver"></div>
            <div class="color-swatch" style="background: #614524;" data-color="bronze" title="Bronze"></div>
            <div class="color-swatch" style="background: #8B4513;" data-color="brown" title="Brown"></div>
          </div>
        </div>

        <!-- Type Selection - Circular -->
        <div class="option-group">
          <label class="option-label">Type</label>
          <div class="type-options">
            <div class="type-swatch" data-type="type1">T1</div>
            <div class="type-swatch selected" data-type="type2">T2</div>
            <div class="type-swatch" data-type="type3">T3</div>
            <div class="type-swatch" data-type="universal">UN</div>
          </div>
        </div>
      </div>

      <!-- Add to Cart -->
      <button class="add-to-cart-btn" onclick="addToCart()">
        Add to Cart
      </button>

      <!-- Product Description -->
      <div class="product-description">
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris.</p>
        
        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit.</p>
        
        <p>⚠️ Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Limited edition production run. Shipping may take 10+ days due to high demand.</p>
      </div>

      <!-- Product Info -->
      <div class="product-info-section">
        <div class="info-item">
          <svg class="info-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1Z" />
          </svg>
          <span>1 Year Warranty Included</span>
        </div>
        
        <div class="info-item">
          <svg class="info-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M22,8A2,2 0 0,1 20,10H4A2,2 0 0,1 2,8A2,2 0 0,1 4,6H7L9,4H15L17,6H20A2,2 0 0,1 22,8Z" />
          </svg>
          <span>Free Professional Installation</span>
        </div>
        
        <div class="info-item">
          <svg class="info-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12,3C17.5,3 22,6.58 22,11C22,15.42 17.5,19 12,19C10.76,19 9.57,18.82 8.47,18.5C5.55,21 2,21 2,21C4.33,18.67 4.7,17.1 4.75,16.5C3.05,15.07 2,13.13 2,11C2,6.58 6.5,3 12,3Z" />
          </svg>
          <span>24/7 Customer Support</span>
        </div>
      </div>

      <!-- Secondary Actions -->
      <div class="secondary-actions">
        <button class="btn-secondary" onclick="contactSpecialist()">
          Talk to a Specialist
        </button>
        <button class="btn-secondary" onclick="viewManual()">
          Download Manual
        </button>
      </div>
    </div>

    <!-- Hidden scroll trigger sections for desktop -->
    <div class="scroll-trigger" data-trigger="1"></div>
    <div class="scroll-trigger" data-trigger="2"></div>
    <div class="scroll-trigger" data-trigger="3"></div>
    <div class="scroll-trigger" data-trigger="4"></div>
  </div>

  <!-- Hidden Product Form for Shopify -->
  <div style="display: none;">
    {% render 'product-form', product: product, product_form_installment: true, show_pickup_availability: true %}
  </div>
</section>

<!-- Additional Product Sections -->
<!-- About the Product Section -->
<section class="content-section">
  <div class="section-container">
    <h2 class="section-title">About the Product</h2>
    <p class="section-subtitle">Discover the perfect blend of security and style with our premium smart lock collection.</p>
    
    <div class="content-showcase">
      <div class="showcase-placeholder">
        Product Showcase
      </div>
    </div>

    <div class="features-grid">
      <div class="feature-card">
        <h3 class="feature-title">Security Features</h3>
        <p class="feature-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
      </div>
      
      <div class="feature-card">
        <h3 class="feature-title">Smart Technology</h3>
        <p class="feature-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
      </div>

      <div class="feature-card">
        <h3 class="feature-title">Premium Design</h3>
        <p class="feature-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
      </div>

      <div class="feature-card">
        <h3 class="feature-title">Easy Installation</h3>
        <p class="feature-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
      </div>
    </div>
  </div>
</section>

<!-- Keep Exploring Broen Section -->
<section class="content-section">
  <div class="section-container">
    <h2 class="section-title">Keep exploring Broen</h2>
    
    <div class="products-grid">
      <!-- Product 1 -->
      <div class="product-card">
        <div class="product-image">
          <div class="image-placeholder">Product Image</div>
        </div>
        <div class="product-info">
          <h3 class="product-name">Broen® Sentry</h3>
          <div class="product-rating">
            <div class="stars">
              <span class="star filled">★</span>
              <span class="star filled">★</span>
              <span class="star filled">★</span>
              <span class="star filled">★</span>
              <span class="star filled">★</span>
            </div>
            <span class="review-count">(55)</span>
          </div>
          <div class="product-price">₱31,990</div>
        </div>
      </div>

      <!-- Product 2 -->
      <div class="product-card">
        <div class="product-image">
          <div class="image-placeholder">Product Image</div>
        </div>
        <div class="product-info">
          <h3 class="product-name">Broen® Obsidian</h3>
          <div class="product-rating">
            <div class="stars">
              <span class="star filled">★</span>
              <span class="star filled">★</span>
              <span class="star filled">★</span>
              <span class="star filled">★</span>
              <span class="star filled">★</span>
            </div>
            <span class="review-count">(80)</span>
          </div>
          <div class="product-price">₱34,990</div>
        </div>
      </div>

      <!-- Product 3 -->
      <div class="product-card">
        <div class="product-image">
          <div class="image-placeholder">Product Image</div>
        </div>
        <div class="product-info">
          <h3 class="product-name">Broen® Onyx</h3>
          <div class="product-rating">
            <div class="stars">
              <span class="star filled">★</span>
              <span class="star filled">★</span>
              <span class="star filled">★</span>
              <span class="star filled">★</span>
              <span class="star filled">★</span>
            </div>
            <span class="review-count">(55)</span>
          </div>
          <div class="product-price">₱29,990</div>
        </div>
      </div>

      <!-- Product 4 -->
      <div class="product-card">
        <div class="product-image">
          <div class="image-placeholder">Product Image</div>
        </div>
        <div class="product-info">
          <h3 class="product-name">Broen® Solace</h3>
          <div class="product-rating">
            <div class="stars">
              <span class="star filled">★</span>
              <span class="star filled">★</span>
              <span class="star filled">★</span>
              <span class="star filled">★</span>
              <span class="star half">☆</span>
            </div>
            <span class="review-count">(37)</span>
          </div>
          <div class="product-price">₱14,990</div>
        </div>
      </div>

      <!-- Product 5 -->
      <div class="product-card">
        <div class="product-image">
          <div class="image-placeholder">Product Image</div>
        </div>
        <div class="product-info">
          <h3 class="product-name">Broen® Sentinel</h3>
          <div class="product-rating">
            <div class="stars">
              <span class="star filled">★</span>
              <span class="star filled">★</span>
              <span class="star filled">★</span>
              <span class="star filled">★</span>
              <span class="star filled">★</span>
            </div>
            <span class="review-count">(27)</span>
          </div>
          <div class="product-price">₱14,990</div>
        </div>
      </div>
    </div>

    <div class="pagination-info">
      <span class="page-indicator">1/2</span>
    </div>

    <div class="view-all-section">
      <a href="/collections/all" class="view-all-btn">View all</a>
    </div>
  </div>
</section>

<!-- How It Works Section -->
<section class="content-section">
  <div class="section-container">
    <h2 class="section-title">How It Works</h2>
    
    <div class="video-container">
      <video controls autoplay muted loop>
        <source src="https://cdn.shopify.com/videos/c/o/v/bd60ec980791498b95845113ce2ce833.mp4" type="video/mp4">
        Your browser does not support the video tag.
      </video>
    </div>

    <div class="download-section">
      <button class="download-btn" onclick="downloadManual()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
          <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z" />
        </svg>
        Download Product Manual (PDF)
      </button>
    </div>
  </div>
</section>

<!-- After Sales Service Section -->
<section class="content-section">
  <div class="section-container">
    <h2 class="section-title">After Sales Service</h2>
    <p class="section-subtitle">Comprehensive support and maintenance to ensure your smart lock performs perfectly for years to come.</p>

    <div class="service-grid">
      <div class="service-card" onclick="contactSpecialist()">
        <div class="service-icon">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,7C13.4,7 14.8,8.6 14.8,10V11.5C15.4,11.9 16,12.4 16,13V16C16,17.1 15.1,18 14,18H10C8.9,18 8,17.1 8,16V13C8,12.4 8.6,11.9 9.2,11.5V10C9.2,8.6 10.6,7 12,7M12,8.2C11.2,8.2 10.5,8.7 10.5,10V11.5H13.5V10C13.5,8.7 12.8,8.2 12,8.2Z" />
          </svg>
        </div>
        <h3 class="service-title">1 Year Warranty</h3>
        <p class="service-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
      </div>
      
      <div class="service-card" onclick="contactSpecialist()">
        <div class="service-icon">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" />
          </svg>
        </div>
        <h3 class="service-title">Free Maintenance</h3>
        <p class="service-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
      </div>
      
      <div class="service-card" onclick="contactSpecialist()">
        <div class="service-icon">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M12,3C17.5,3 22,6.58 22,11C22,15.42 17.5,19 12,19C10.76,19 9.57,18.82 8.47,18.5C5.55,21 2,21 2,21C4.33,18.67 4.7,17.1 4.75,16.5C3.05,15.07 2,13.13 2,11C2,6.58 6.5,3 12,3Z" />
          </svg>
        </div>
        <h3 class="service-title">24/7 Support</h3>
        <p class="service-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
      </div>
    </div>
  </div>
</section>

<!-- Sticky Specialist Button -->
<button class="specialist-btn" onclick="contactSpecialist()">
  <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
    <path d="M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z" />
  </svg>
  Talk to a Specialist
</button>

<!-- JavaScript for Arrow-Controlled Gallery -->
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const galleryItems = document.querySelectorAll('.gallery-item');
    const indicatorDots = document.querySelectorAll('.indicator-dot');
    let currentIndex = 0;

    // Color swatch selection
    const colorSwatches = document.querySelectorAll('.color-swatch');
    colorSwatches.forEach(swatch => {
      swatch.addEventListener('click', function() {
        colorSwatches.forEach(s => s.classList.remove('selected'));
        this.classList.add('selected');
      });
    });

    // Type swatch selection
    const typeSwatches = document.querySelectorAll('.type-swatch');
    typeSwatches.forEach(swatch => {
      swatch.addEventListener('click', function() {
        typeSwatches.forEach(s => s.classList.remove('selected'));
        this.classList.add('selected');
      });
    });

    // Keyboard navigation
    document.querySelectorAll('.color-swatch, .type-swatch').forEach(element => {
      element.setAttribute('tabindex', '0');
      element.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          this.click();
        }
      });
    });

    // Product card clicks
    document.querySelectorAll('.product-card').forEach(card => {
      card.addEventListener('click', function() {
        const productName = this.querySelector('.product-name').textContent;
        console.log('Navigating to:', productName);
      });
    });

    // Auto-advance gallery on mobile (since no arrows on small screens)
    if (window.innerWidth < 768) {
      setInterval(() => {
        changeGalleryImage(1);
      }, 4000);
    }
  });

  // Gallery navigation functions
  function changeGalleryImage(direction) {
    const galleryItems = document.querySelectorAll('.gallery-item');
    const indicatorDots = document.querySelectorAll('.indicator-dot');
    const totalItems = galleryItems.length;
    
    // Hide current image
    galleryItems[currentGalleryIndex].classList.remove('active');
    indicatorDots[currentGalleryIndex].classList.remove('active');
    
    // Calculate new index
    currentGalleryIndex += direction;
    
    // Loop around if needed
    if (currentGalleryIndex >= totalItems) {
      currentGalleryIndex = 0;
    } else if (currentGalleryIndex < 0) {
      currentGalleryIndex = totalItems - 1;
    }
    
    // Show new image
    galleryItems[currentGalleryIndex].classList.add('active');
    indicatorDots[currentGalleryIndex].classList.add('active');
    
    // Play video if it's the active item
    const activeItem = galleryItems[currentGalleryIndex];
    const video = activeItem.querySelector('video');
    if (video) {
      video.play();
    }
  }

  function goToGalleryImage(index) {
    const galleryItems = document.querySelectorAll('.gallery-item');
    const indicatorDots = document.querySelectorAll('.indicator-dot');
    
    // Hide current image
    galleryItems[currentGalleryIndex].classList.remove('active');
    indicatorDots[currentGalleryIndex].classList.remove('active');
    
    // Set new index
    currentGalleryIndex = index;
    
    // Show new image
    galleryItems[currentGalleryIndex].classList.add('active');
    indicatorDots[currentGalleryIndex].classList.add('active');
    
    // Play video if it's the active item
    const activeItem = galleryItems[currentGalleryIndex];
    const video = activeItem.querySelector('video');
    if (video) {
      video.play();
    }
  }

  // Global variable for gallery index
  let currentGalleryIndex = 0;

  function addToCart() {
    const selectedColor = document.querySelector('.color-swatch.selected')?.dataset.color || 'black';
    const selectedType = document.querySelector('.type-swatch.selected')?.dataset.type || 'type2';
    
    console.log('Adding to cart:', { color: selectedColor, type: selectedType });
    
    // Add success feedback
    const btn = document.querySelector('.add-to-cart-btn');
    const originalText = btn.textContent;
    btn.textContent = 'Added to Cart!';
    btn.style.background = '#4CAF50';
    
    setTimeout(() => {
      btn.textContent = originalText;
      btn.style.background = 'var(--brand-brown)';
    }, 2000);
  }

  function contactSpecialist() {
    window.open('viber://chat?number=%2B639190740658', '_self');
    setTimeout(() => {
      window.open('tel:+639190740658', '_self');
    }, 2000);
  }

  function viewManual() {
    window.open('{{ "product-manual.pdf" | asset_url }}', '_blank');
  }

  function downloadManual() {
    window.open('{{ "product-manual.pdf" | asset_url }}', '_blank');
  }
</script>

<!-- Schema.org Product Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org/",
  "@type": "Product",
  "name": "{{ product.title | escape }}",
  "description": "{{ product.description | strip_html | truncate: 300 | escape }}",
  "image": [
    {% for media in product.media limit: 5 %}
      "{{ media | image_url: width: 800 }}"{% unless forloop.last %},{% endunless %}
    {% endfor %}
  ],
  "brand": {
    "@type": "Brand",
    "name": "Broen"
  },
  "offers": {
    "@type": "Offer",
    "url": "{{ shop.url }}{{ product.url }}",
    "priceCurrency": "{{ cart.currency.iso_code }}",
    "price": "{{ product.price | divided_by: 100.0 }}",
    "availability": "{% if product.available %}https://schema.org/InStock{% else %}https://schema.org/OutOfStock{% endif %}",
    "seller": {
      "@type": "Organization",
      "name": "{{ shop.name }}"
    }
  }
}
</script>

{% schema %}
{
  "name": "Product",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "Scrolling Gallery Settings"
    },
    {
      "type": "checkbox",
      "id": "enable_scroll_gallery",
      "default": true,
      "label": "Enable scroll-triggered gallery"
    },
    {
      "type": "checkbox",
      "id": "autoplay_video",
      "default": true,
      "label": "Autoplay video in gallery"
    }
  ]
}
{% endschema %}